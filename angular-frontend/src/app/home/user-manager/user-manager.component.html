<mat-card-title>Riyadh Metro Network Services</mat-card-title>
<mat-card-subtitle>Edit, Add and Remove Users </mat-card-subtitle>
<mat-card-content>
  <div class="loading-shade" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </div>

  <div fxLayout="row wrap">
    <mat-card *ngFor="let user of users" fxFlex="31.7%" fxFlex.lt-md="100%" class="user-block">
      <mat-card-header color="primary" fxLayout="row">
        <img src="assets/images/person.png" alt="User" />
        <h4 fxFlex="100%">{{ user.fullName }}</h4>
        <button mat-icon-button matTooltip="More" [matMenuTriggerFor]="menu">
          <mat-icon> more_vert </mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="updateUserDialog(user)">
            <mat-icon>create</mat-icon>
            <span>Update</span>
          </button>
          <button mat-menu-item (click)="deleteUserDialog(user.username)">
            <mat-icon>delete</mat-icon>
            <span>Delete</span>
          </button>
        </mat-menu>
      </mat-card-header>
      <mat-card-content>
        <mat-list>
          <mat-list-item>
            <mat-icon class="text-muted">person_pin</mat-icon>
            <span class="text-pad">{{ user.username }}</span>
          </mat-list-item>
          <mat-list-item>
            <mat-icon class="text-muted">vpn_key</mat-icon>
            <span class="text-pad">{{ user.role }}</span>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
      <mat-card-actions> </mat-card-actions>
    </mat-card>
  </div>
</mat-card-content>
<mat-divider></mat-divider>
<mat-card-actions>
  <button
    mat-button
    color="primary"
    class="text-upper"
    (click)="openUserDialog()"
  >
    <mat-icon>vpn_key</mat-icon>
    Add User
  </button>
</mat-card-actions>
